<html lang="cs">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>pldrGallery</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" id="style-theme">
	<script>
		/* set user-saved theme as soon as possible to prevent blink of default theme */
		let newTheme = 'default';
		try {
			newTheme = localStorage.getItem('pldr-settings-theme');
		} catch (error) {
			// Local storage is not working (disabled, unsupported, ...)
		}
		document.getElementById('style-theme').setAttribute('href', 'main-' + newTheme + '.css?{{CACHEBUSTER_PRIVATE_LESS_MAIN.LESS}}');
	</script>
</head>
<body>
<div id="flash-message"></div>

<nav class="navbar navbar-expand-md sticky-top" id="navbar">
	<ol id="currentPath" class="breadcrumb">
		<li class="breadcrumb-item active"><a href="#/"><i class="fa fa-home"></i></a></li>
	</ol>
	<button class="btn navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse-content">
		Menu <i class="fa fa-bars"></i>
	</button>

	<div class="collapse navbar-collapse justify-content-end" id="navbar-collapse-content">
		<form class="form-inline my-2 my-lg-0">
			<div class="input-group" id="navbar-filter">
				<input type="search" class="form-control" placeholder="Filter" disabled/>
				<div class="input-group-append">
					<span class="input-group-text">
						<span class="filtered"><i class="fa fa-circle-o-notch fa-spin"></i></span>
						/
						<span class="total"><i class="fa fa-circle-o-notch fa-spin"></i></span>
					</span>
				</div>
				<div class="input-group-append" title="Deep search in subfolders (ctrl+enter)">
					<button class="btn btn-outline-secondary search" type="button">
						<i class="fa fa-search"></i>
					</button>
				</div>
			</div>
		</form>

		<ul class="navbar-nav">
			<!-- Share -->
			<li class="nav-item" title="Copy URL">
				<a class="btn btn-outline-secondary" href="#" id="navbar-share">
					<span class="d-md-none d-lg-none">Copy URL</span>
					<i class="fa fa-share-alt fa-fw"></i>
				</a>
			</li>

			<!-- Favourites -->
			<li class="nav-item dropdown" title="Favourites">
				<button class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" type="button" id="navbar-favourites-button" data-toggle="dropdown">
					<span class="d-md-none">Favourites</span>
					<i class="fa fa-star-o"></i>
				</button>

				<div class="dropdown-menu dropdown-menu-right" id="navbar-dropdown-content">
					<a class="dropdown-item" href="#" id="navbar-favourites-add">Add to favourites</a>
					<a class="dropdown-item" href="#" id="navbar-favourites-remove" style="display: none;">Remove from favourites</a>
					<div class="dropdown-divider"></div>
					<div class="dropdown-item dropdown-item-favourites disabled">No saved items</div>
				</div>
			</li>

			<!-- Settings -->
			<li class="nav-item" title="Settings">
				<button class="btn btn-outline-secondary" data-toggle="modal" data-target="#modal-settings">
					<span class="d-md-none">Settings</span>
					<i class="fa fa-wrench fa-fw"></i>
				</button>
			</li>

			<!-- Login and logout -->
			<li class="nav-item">
				<a class="btn btn-outline-secondary" id="button-login" href="/login" title="Login">
					<span class="d-md-none d-lg-none">Login</span>
					<i class="fa fa-sign-in fa-fw"></i>
				</a>
				<a class="btn btn-outline-secondary" id="button-logout" href="/logout" title="Logout" style="display: none;">
					<span class="d-md-none d-lg-none">Logout</span>
					<i class="fa fa-sign-out fa-fw"></i>
				</a>
			</li>

		</ul>
	</div>
</nav>

<noscript>
	<h2 class="text-center">V prohlížeči je nutné povolit Javascript</h2>
</noscript>
<div id="structure-header"></div>
<div id="structure">
	<form id="structure-display-type">
		<label>
			<button type="button" class="btn btn-sm btn-outline-secondary" id="structure-display-type-rows">
				<input type="radio" name="structure-display-type" value="rows" checked>
				<i class="fa fa-fw fa-th-list"></i> Rows
			</button>
		</label>
		<label>
			<button type="button" class="btn btn-sm btn-outline-secondary" id="structure-display-type-tiles-small">
				<input type="radio" name="structure-display-type" value="tiles-small">
				<i class="fa fa-fw fa-th"></i> Small tiles
			</button>
		</label>
		<label>
			<button type="button" class="btn btn-sm btn-outline-secondary" id="structure-display-type-tiles-big">
				<input type="radio" name="structure-display-type" value="tiles-big">
				<i class="fa fa-fw fa-th-large"></i> Big tiles
			</button>
		</label>
	</form>
	<div id="structure-tiles"></div>
</div>
<div id="structure-footer"></div>
<div id="map" style="display: none;"></div>

<div id="popup" style="display: none;">
	<div id="popup-content">
		<i id="popup-loading" class="fa fa-circle-o-notch fa-spin fa-5x"></i>

		<img id="popup-image" style="display:none;" alt="@TODO" src="">

		<!-- class is dynamic -->
		<i id="popup-icon" aria-hidden="true" style="display:none;"></i>

		<video id="popup-video" controls style="display:none;">
			<source type="video/mp4" src="">
		</video>

		<audio id="popup-audio" controls style="display:none;">
			<source type="audio/mpeg" src="">
		</audio>
	</div>
	<a id="popup-prev" href="#"><i class="fa fa-angle-left fa-lg"></i></a>
	<a id="popup-next" href="#"><i class="fa fa-angle-right fa-lg"></i></a>


	<div id="popup-footer" class="list-inline">
		<a id="popup-download" target="_blank" class="list-inline-item float-left" title="Download file"><i class="fa fa-download" aria-hidden="true"></i></a>
		<a id="popup-share" target="_blank" class="list-inline-item float-left" title="Copy URL">
			<i class="fa fa-share-alt fa-fw"></i>
		</a>
		<a id="popup-location" target="_blank" style="display: none;" class="list-inline-item float-left" title="Open in Google maps">
			<i class="fa fa-map-marker fa-fw"></i>
		</a>
		<a id="popup-filename" target="_blank" class="list-inline-item float-left" title="Open file in new tab (Enter)">@Generated - Filename</a>

		<span id="popup-close" class="list-inline-item float-right" title="Close popup (Esc)">
					<i class="fa fa-close fa-lg"></i>
				</span>
		<a id="popup-footer-next" class="list-inline-item popup-footer-button float-right d-none d-md-block" title="Next file (Arrow right)">
			<i class="fa fa-angle-right fa-lg"></i>
		</a>
		<a id="popup-footer-presentation" class="list-inline-item popup-footer-button float-right d-none d-md-block" title="Presentation mode (CTRL + Space)">
			<span id="popup-counter"></span>
			<i id="popup-footer-presentation-start" class="fa fa-play-circle fa-lg"></i>
			<i id="popup-footer-presentation-stop" class="fa fa-stop-circle fa-lg" style="display: none;"></i>
		</a>
		<a class="list-inline-item popup-footer-button float-right d-none d-md-block" id="popup-footer-prev" title="Previous file (Arrow left)">
			<i class="fa fa-angle-left fa-lg"></i>
		</a>
	</div>
</div>

<div id="modal-settings" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title"><i class="fa fa-wrench"></i> Nastavení</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form id="form-settings">

					<div class="form-group" id="settings-theme">
						<i class="fa fa-lightbulb-o fa-fw"></i> Téma:
						<div class="custom-control custom-radio">
							<input type="radio" id="settings-theme-default" name="theme" value="default" class="custom-control-input">
							<label class="custom-control-label" for="settings-theme-default"><i class="fa fa-sun-o fa-fw"></i> Rozsvítit</label>
						</div>
						<div class="custom-control custom-radio">
							<input type="radio" id="settings-theme-dark" name="theme" value="dark" class="custom-control-input">
							<label class="custom-control-label" for="settings-theme-dark"><i class="fa fa-moon-o fa-fw"></i> Zhasnout</label>
						</div>
						<!-- DANGER! DO NOT UNCOMMENT THIS BLOCK OF CODE!
						<div class="custom-control custom-radio">
							<input type="radio" id="settings-theme-hellokitty" name="theme" value="hellokitty" class="custom-control-input">
							<label class="custom-control-label" for="settings-theme-hellokitty"><i class="fa fa-gift fa-fw"></i> Hello Kitty</label>
						</div>
						-->
					</div>

					<div class="form-group" id="settings-compress">
						<div class="custom-control custom-checkbox">
							<input type="checkbox" name="compress" class="custom-control-input" id="settings-compress-checkbox">
							<label class="custom-control-label" for="settings-compress-checkbox">Šetřit data</label>
						</div>
						<small class="form-text text-muted">Obrázky budou zmenšeny na velikost max 1024 x 1024 pixelů při zachování poměru stran. V plné velikosti je možné je otevřít skrze ikonu
							<i class="fa fa-download" aria-hidden="true"></i> vlevo dole.</small>
					</div>

					<div class="form-group">
						<label for="settings-animationSpeed">Rychlost animací (v milisekundách):</label>
						<input type="number" required name="animationSpeed" id="settings-animationSpeed" class="form-control" min="0" max="10000">
						<small class="form-text text-muted">0 = bez animací, 250 = výchozí hodnota</small>
					</div>

					<div class="form-group">
						<label for="settings-structureItemLimit">Maximální počet zobrazovaných položek ve složce:</label>
						<input type="number" required name="structureItemLimit" id="settings-structureItemLimit" class="form-control" min="0">
						<small class="form-text text-muted">
							0 = všechny, 1000 = výchozí hodnota<br>
							<i class="fa fa-warning"></i> Pokud má složka příliš velké množství položek a tato hodnota bude taktéž vysoká, může načítání chvíli trvat popř může zpomalit či úplně zablokovat prohlížeč.
						</small>
					</div>

					<div class="form-group">
						<label for="settings-presentationSpeed">Rychlost přehrávání prezentace (v milisekundách):</label>
						<input type="number" required name="presentationSpeed" id="settings-presentationSpeed" class="form-control" min="0">
						<small class="form-text text-muted">
							0 = okamžitě po načtení, 5000 = výchozí hodnota<br>
						</small>
					</div>

					<button type="submit" id="settings-save" class="btn btn-primary">Uložit</button>
				</form>
			</div>
			<div class="modal-header">
				<h5 class="modal-title"><i class="fa fa-key"></i> Uložená hesla</h5>
			</div>
			<div class="modal-body">
				<p>
					Zde se zobrazí hesla a k nim příslušné adresáře, které odemykají.
				</p>
				<button type="button" id="settings-passwords-load" class="btn btn-primary">Načíst</button>
				<p id="settings-passwords-nothing" style="display: none;">Na tomto zařízení nejsou uložená žádná hesla.</p>
				<div id="settings-passwords-list"></div>
			</div>
		</div>
	</div>
</div>
<script defer type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script defer type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jwerty/0.3.2/jwerty.min.js"></script>
<script defer type="text/javascript" src="js/functions.js?{{CACHEBUSTER_PUBLIC_JS_FUNCTIONS.JS}}"></script>
<script defer type="text/javascript" src="js/cookie.js?{{CACHEBUSTER_PUBLIC_JS_COOKIE.JS}}"></script>
<script defer type="text/javascript" src="js/settings.js?{{CACHEBUSTER_PUBLIC_JS_SETTINGS.JS}}"></script>
<script defer type="text/javascript" src="js/structure.js?{{CACHEBUSTER_PUBLIC_JS_STRUCTURE.JS}}"></script>
<script defer type="text/javascript" src="js/main.js?{{CACHEBUSTER_PUBLIC_JS_MAIN.JS}}"></script>
<script defer type="text/javascript" src="js/keyboard.js?{{CACHEBUSTER_PUBLIC_JS_KEYBOARD.JS}}"></script>
<script defer src="https://maps.googleapis.com/maps/api/js?key={{GOOGLE_MAPS_API_KEY}}&callback=mapInit"></script>
</body>
</html>
<style id="dynamic-styles"></style>
